(function(){"use strict";var e={8747:function(e,t,l){var i=l(9242),o=l(3396);function n(e,t,l,i,n,r){const d=(0,o.up)("Clients");return(0,o.wg)(),(0,o.j4)(d)}var r=l(7139);const d={class:"container"},a={class:"row header-box"},s=(0,o._)("div",{class:"col-md-10 title-name-box"},[(0,o._)("p",{class:"title-name"}," Clients")],-1),c={class:"col-md-2 new-client-box"},u={class:"row"},v={class:"col-md-12"},m={class:"table table-bordered table-responsive"},p=(0,o._)("thead",{class:"thead-dark"},[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"Name"),(0,o._)("th",{scope:"col"},"Email"),(0,o._)("th",{scope:"col"},"Phone Number"),(0,o._)("th",{scope:"col"},"Providers"),(0,o._)("th",{scope:"col"},"Action")])],-1),b={key:0},h=["onClick"],f=["onClick"];function C(e,t,l,n,C,_){const w=(0,o.up)("ProvidersView"),g=(0,o.up)("ClientCreate"),y=(0,o.up)("ClientEdit");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("div",a,[s,(0,o._)("div",c,[(0,o._)("button",{class:"btn btn-light",onClick:t[0]||(t[0]=(0,i.iM)((e=>_.openCloseCreateClientModal()),["prevent"]))}," New Client")])]),(0,o._)("div",u,[(0,o._)("div",v,[(0,o._)("table",m,[p,e.clients.length?((0,o.wg)(),(0,o.iD)("tbody",b,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.clients,((t,l)=>((0,o.wg)(),(0,o.iD)("tr",{key:l},[(0,o._)("td",null,(0,r.zw)(t.name),1),(0,o._)("td",null,(0,r.zw)(t.email),1),(0,o._)("td",null,(0,r.zw)(this.displayPhoneNumber(t.phoneNumber)),1),(0,o._)("td",null,[e.providers.length?((0,o.wg)(),(0,o.j4)(w,{key:0,clientProvider:t.providers},null,8,["clientProvider"])):(0,o.kq)("",!0)]),(0,o._)("td",null,[(0,o._)("button",{class:"btn btn-default",onClick:(0,i.iM)((e=>_.openEdit(t)),["prevent"])},"Edit",8,h),(0,o._)("button",{class:"btn",onClick:(0,i.iM)((e=>_.deleteClient(t._id)),["prevent"])},"Delete",8,f)])])))),128))])):(0,o.kq)("",!0)])])]),(0,o._)("div",null,[(0,o.Wm)(g),(0,o.Wm)(y)])])}const _={key:0};function w(e,t,l,i,n,d){return(0,o.wg)(),(0,o.iD)("div",null,[l.clientProvider?((0,o.wg)(),(0,o.iD)("div",_,(0,r.zw)(e.providerString),1)):(0,o.kq)("",!0)])}var g=l(65),y={name:"ProvidersView",props:{clientProvider:Array},data:()=>({providerString:""}),computed:{...(0,g.Se)(["providers"])},watch:{clientProvider(e){let t=e.map((e=>e.id)),l=this.providers.filter((e=>t.includes(e._id)));this.providerString=l.map((e=>e.name)).join(",")}},created(){if(this.providers.length&&this.clientProvider.length){let e=this.clientProvider.map((e=>e.id)),t=this.providers.filter((t=>e.includes(t._id)));this.providerString=t.map((e=>e.name)).join(",")}}},M=l(89);const P=(0,M.Z)(y,[["render",w]]);var k=P;const N={class:"modal-dialog modal-xl"},E={class:"modal-content"},$={class:"modal-header"},x=(0,o._)("h5",{class:"modal-title",id:"createClientLabel"},"Create Client",-1),D={class:"modal-body d-grid gap-3"},O={class:"row"},j=(0,o._)("div",{class:"col-md-3"},[(0,o._)("label",{for:"c-name",class:"form-label fw-bold"},"Name:")],-1),S={class:"col-md-9"},Z={class:"row"},V=(0,o._)("div",{class:"col-md-3"},[(0,o._)("label",{for:"c-email",class:"form-label fw-bold"},"Email ")],-1),q={class:"col-md-9"},A={class:"row"},z=(0,o._)("div",{class:"col-md-3"},[(0,o._)("label",{for:"c-phone-number",class:"form-label fw-bold"},"Phone Number:")],-1),U={class:"col-md-9"},L={class:"row"},T=(0,o._)("div",{class:"col-md-3"},[(0,o._)("label",{for:"c-providers",class:"form-label fw-bold"},"Providers:")],-1),H={class:"col-md-5"},K={class:"col-md-4"},Y={class:"row"},F=(0,o._)("div",{class:"col-md-3"},null,-1),W={class:"col-md-9"},I={class:"col-md-7"},B={class:"form-check"},G=["value","id"],J=["for"],Q=(0,o.uE)('<div class="col-md-1"><a href=""><i class="fa fa-edit" aria-hidden="true"></i></a></div><div class="col-md-1"><a href=""><i class="fa fa-trash" aria-hidden="true"></i></a></div>',2),R={class:"modal-footer"};function X(e,t,l,n,d,a){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",{class:(0,r.C_)(["modal",{showModal:e.openNewModal}]),id:"createClient",tabindex:"-1","aria-labelledby":"createClientLabel","aria-hidden":"true"},[(0,o._)("div",N,[(0,o._)("div",E,[(0,o._)("div",$,[x,(0,o._)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=(0,i.iM)((e=>a.closeModal()),["prevent"])),"aria-label":"Close"})]),(0,o._)("div",D,[(0,o._)("div",O,[j,(0,o._)("div",S,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"c-name","onUpdate:modelValue":t[1]||(t[1]=e=>d.newClient.name=e),required:!0},null,512),[[i.nr,d.newClient.name]])])]),(0,o._)("div",Z,[V,(0,o._)("div",q,[(0,o.wy)((0,o._)("input",{type:"email",class:"form-control",id:"c-email","onUpdate:modelValue":t[2]||(t[2]=e=>d.newClient.email=e),required:!0},null,512),[[i.nr,d.newClient.email]])])]),(0,o._)("div",A,[z,(0,o._)("div",U,[(0,o.wy)((0,o._)("input",{type:"email",class:"form-control",id:"c-phone-number","onUpdate:modelValue":t[3]||(t[3]=e=>d.newClient.phoneNumber=e),required:!0},null,512),[[i.nr,d.newClient.phoneNumber]])])]),(0,o._)("div",L,[T,(0,o._)("div",H,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"c-providers","onUpdate:modelValue":t[4]||(t[4]=e=>d.newProvider=e)},null,512),[[i.nr,d.newProvider]])]),(0,o._)("div",K,[(0,o._)("button",{class:"btn btn-default",onClick:t[5]||(t[5]=(0,i.iM)(((...e)=>a.createNewProvider&&a.createNewProvider(...e)),["prevent"]))}," Add Provider")])]),(0,o._)("div",Y,[F,(0,o._)("div",W,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.providers,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:l},[(0,o._)("div",I,[(0,o._)("div",B,[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"checkbox",value:{id:e._id},id:e._id,"onUpdate:modelValue":t[6]||(t[6]=e=>d.newClient.providers=e)},null,8,G),[[i.e8,d.newClient.providers]]),(0,o._)("label",{class:"form-check-label",for:e._id},(0,r.zw)(e.name),9,J)])]),Q])))),128))])])]),(0,o._)("div",R,[(0,o._)("button",{type:"button",class:"btn btn-secondary",onClick:t[7]||(t[7]=(0,i.iM)((e=>a.closeModal()),["prevent"]))},"Cancel"),(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=(0,i.iM)(((...e)=>a.createNewClient&&a.createNewClient(...e)),["prevent"]))},"Add Client")])])])],2)])}var ee={name:"ClientCreate",data(){return{newClient:{name:"",email:"",phoneNumber:"",providers:[]},newProvider:""}},methods:{createNewProvider(){this.newProvider.length>0&&this.$store.dispatch("createNewProvider",this.newProvider)},createNewClient(){this.$store.dispatch("createNewClient",this.newClient)},closeModal(){this.$store.commit("openCloseNewModal",!1)}},computed:{...(0,g.Se)(["providers","openNewModal"])}};const te=(0,M.Z)(ee,[["render",X]]);var le=te;const ie={class:"modal-dialog modal-xl"},oe={class:"modal-content"},ne={class:"modal-header"},re=(0,o._)("h5",{class:"modal-title",id:"editClientLabel"},"Edit Client",-1),de={key:0,class:"modal-body d-grid gap-3"},ae={class:"row"},se=(0,o._)("div",{class:"col-md-3"},[(0,o._)("label",{for:"c-name",class:"form-label fw-bold"},"Name:")],-1),ce={class:"col-md-9"},ue=["value"],ve={class:"row"},me=(0,o._)("div",{class:"col-md-3"},[(0,o._)("label",{for:"c-email",class:"form-label fw-bold"},"Email ")],-1),pe={class:"col-md-9"},be=["value"],he={class:"row"},fe=(0,o._)("div",{class:"col-md-3"},[(0,o._)("label",{for:"c-phone-number",class:"form-label fw-bold"},"Phone Number:")],-1),Ce={class:"col-md-9"},_e=["value"],we=(0,o.uE)('<div class="row"><div class="col-md-3"><label for="c-providers" class="form-label fw-bold">Providers:</label></div><div class="col-md-5"><input type="text" class="form-control" id="c-providers"></div><div class="col-md-4"><button class="btn btn-default"> Add Provider</button></div></div>',1),ge={class:"row"},ye=(0,o._)("div",{class:"col-md-3"},null,-1),Me={class:"col-md-9"},Pe={class:"col-md-7"},ke={class:"form-check"},Ne=["value","id"],Ee=["for"],$e=(0,o.uE)('<div class="col-md-1"><a href=""><i class="fa fa-edit" aria-hidden="true"></i></a></div><div class="col-md-1"><a href=""><i class="fa fa-trash" aria-hidden="true"></i></a></div>',2),xe={class:"modal-footer"};function De(e,t,l,n,d,a){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",{class:(0,r.C_)(["modal",{showModal:e.openEditModal}]),id:"editClient","aria-labelledby":"editClientLabel","aria-hidden":"true"},[(0,o._)("div",ie,[(0,o._)("div",oe,[(0,o._)("div",ne,[re,(0,o._)("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:t[0]||(t[0]=(0,i.iM)((e=>a.closeModal()),["prevent"]))})]),Object.keys(e.editClient).length?((0,o.wg)(),(0,o.iD)("div",de,[(0,o._)("div",ae,[se,(0,o._)("div",ce,[(0,o._)("input",{type:"text",class:"form-control",id:"c-name",value:e.editClient.name},null,8,ue)])]),(0,o._)("div",ve,[me,(0,o._)("div",pe,[(0,o._)("input",{type:"email",class:"form-control",id:"c-email",value:e.editClient.email},null,8,be)])]),(0,o._)("div",he,[fe,(0,o._)("div",Ce,[(0,o._)("input",{type:"email",class:"form-control",id:"c-phone-number",value:e.editClient.phoneNumber},null,8,_e)])]),we,(0,o._)("div",ge,[ye,(0,o._)("div",Me,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.providers,((l,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:n},[(0,o._)("div",Pe,[(0,o._)("div",ke,[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"checkbox",value:{id:l._id},id:l._id,"onUpdate:modelValue":t[1]||(t[1]=t=>e.editClient.providers=t)},null,8,Ne),[[i.e8,e.editClient.providers]]),(0,o._)("label",{class:"form-check-label",for:l._id},(0,r.zw)(l.name),9,Ee)])]),$e])))),128))])])])):(0,o.kq)("",!0),(0,o._)("div",xe,[(0,o._)("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(0,i.iM)((e=>a.closeModal()),["prevent"]))},"Cancel"),(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=e=>a.updateClient())},"Edit Client")])])])],2)])}var Oe={name:"ClientEdit",computed:{...(0,g.Se)(["editClient","openEditModal","providers"])},methods:{closeModal(){this.$store.commit("openCloseEditModal",!1)},updateClient(){this.$store.dispatch("editClient",this.editClient)}}};const je=(0,M.Z)(Oe,[["render",De]]);var Se=je,Ze={name:"ClientsVue",data:()=>({editClient:{},openEditForm:!1,openCreateClientModal:!0}),computed:{...(0,g.Se)(["clients","providers"])},components:{ProvidersView:k,ClientCreate:le,ClientEdit:Se},methods:{openCloseCreateClientModal(){this.$store.commit("openCloseNewModal",!0)},displayPhoneNumber(e){return e.length?`${e.slice(0,3)}-${e.slice(3,6)}-${e.slice(6)}`:"nil"},openEdit(e){this.$store.commit("setEditClient",e),this.$store.commit("openCloseEditModal",!0)},deleteClient(e){this.$store.dispatch("deleteClient",e)}},created(){this.$store.dispatch("getClients"),this.$store.dispatch("getProviders")}};const Ve=(0,M.Z)(Ze,[["render",C]]);var qe=Ve,Ae={name:"App",components:{Clients:qe},computed:{}};const ze=(0,M.Z)(Ae,[["render",n]]);var Ue=ze,Le=(l(7658),l(4161));let Te="";Te="/api";const He=(0,g.MT)({state(){return{editClient:{},providers:[],isLoading:!1,clients:[],openNewModal:!1,openEditModal:!1}},getters:{openNewModal(e){return e.openNewModal},openEditModal(e){return e.openEditModal},providers(e){return e.providers},editClient(e){return e.editClient},clients(e){return e.clients},newClient(e){return e.newClient}},mutations:{openCloseNewModal(e,t){e.openNewModal=t},openCloseEditModal(e,t){e.openEditModal=t},setEditClient(e,t){t["providers"]=t.providers.map((e=>({id:e.id}))),e.editClient=t},resetEditClient(e){e.editClient={}},setProviders(e,t){e.providers=t},setClients(e,t){e.clients=t},removeClient(e,t){e.clients=e.clients.filter((e=>e["_id"]!==t))},addProvider(e,t){e.providers.push(t)},addClient(e,t){e.clients.push(t)},updateClient(e,t){const l=e.clients,i=l.findIndex((e=>e._id===t._id));console.log(i),l[i]=t,e.clients=Array.from(l)}},actions:{getProviders:({commit:e})=>{Le.Z.get(`${Te}/providers`).then((t=>{e("setProviders",t.data)})).catch((e=>{alert(e.message)}))},getClients:({commit:e})=>{Le.Z.get(`${Te}/clients`).then((t=>{e("setClients",t.data)})).catch((e=>{alert(e.message)}))},deleteClient:({commit:e},t)=>{Le.Z["delete"](`${Te}/clients/${t}`).then((l=>{e("removeClient",t)})).catch((e=>{alert(e.message)}))},createNewProvider:({commit:e},t)=>{Le.Z.post(`${Te}/providers`,{name:t}).then((t=>{e("addProvider",t.data)})).catch((e=>{alert(e.message)}))},createNewClient:({commit:e},t)=>{Le.Z.post(`${Te}/clients`,t).then((t=>{e("addClient",t.data),e("openCloseNewModal",!1)})).catch((e=>{e.response.data&&console.log(e.response.data),alert(e.message)}))},editClient:({commit:e},t)=>{const{_id:l,...i}=t;Le.Z.patch(`${Te}/clients/${l}`,i).then((t=>{e("updateClient",t.data),e("openCloseEditModal",!1)})).catch((e=>{e.response.data&&console.log(e.response.data),alert(e.message)}))}}});var Ke=He;l(5654);const Ye=(0,i.ri)(Ue);Ye.use(Ke),Ye.mount("#app")}},t={};function l(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(t,i,o,n){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],n=e[c][2];for(var d=!0,a=0;a<i.length;a++)(!1&n||r>=n)&&Object.keys(l.O).every((function(e){return l.O[e](i[a])}))?i.splice(a--,1):(d=!1,n<r&&(r=n));if(d){e.splice(c--,1);var s=o();void 0!==s&&(t=s)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,o,n]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,n,r=i[0],d=i[1],a=i[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(o in d)l.o(d,o)&&(l.m[o]=d[o]);if(a)var c=a(l)}for(t&&t(i);s<r.length;s++)n=r[s],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(c)},i=self["webpackChunkui"]=self["webpackChunkui"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=l.O(void 0,[998],(function(){return l(8747)}));i=l.O(i)})();
//# sourceMappingURL=app.1fc91f36.js.map